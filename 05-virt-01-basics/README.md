
# Домашнее задание к занятию "5.1. Введение в виртуализацию. Типы и функции гипервизоров. Обзор рынка вендоров и областей применения."


## Задача 1

Опишите кратко, как вы поняли: в чем основное отличие полной (аппаратной) виртуализации, паравиртуализации и виртуализации на основе ОС.  

**Answer**

    С точки зрения функционала:
    - аппаратная виртуализация воспроизводит весь функционал, предоставляемый реальным оборудованием, что позволяет запускать любые ОС, способные работать на таком оборудовании, то есть не требуют внесения изменений в виртуализуемые ОС.
    - паравиртуализация позволяет запускать только те ОС, в которых добавлен механизм работы с API гипервизора вместо взаимодействия с ресурсами оборудования напрямую.
    - виртуализация на уровне ОС позволяет запускать только ОС, имеющие то же ядро, что и хостовая система, поскольку используется общее ядро.
    

## Задача 2

Выберите один из вариантов использования организации физических серверов, в зависимости от условий использования.

Организация серверов:
- физические сервера,
- паравиртуализация,
- виртуализация уровня ОС.

Условия использования:
- Высоконагруженная база данных, чувствительная к отказу.
- Различные web-приложения.
- Windows системы для использования бухгалтерским отделом.
- Системы, выполняющие высокопроизводительные расчеты на GPU.

Опишите, почему вы выбрали к каждому целевому использованию такую организацию.  

**Answer**

    * Высоконагруженная база данных, чувствительная к отказу - физические сервера с целью уменьшения аппаратных задержек. Использование виртуализации привнесет дополнительную точку отказа.
    * Различные web-приложения - виртуализация уровня ОС (контейнеризация) с целью возможности масштабирования при минимуме накладных расходов.
    * Windows системы для использования бухгалтерским отделом - паравиртуализация с целью оптимизации управления ресурсами, упрощение бэкапирования путем копирования виртуальных машин или снимков, общее упрощение управления машинами.
    * Системы, выполняющие высокопроизводительные расчеты на GPU - физические сервера с целью снижения накладных расходов и уменьшения времени доступа к оборудованию.

## Задача 3

Выберите подходящую систему управления виртуализацией для предложенного сценария. Детально опишите ваш выбор.

Сценарии:

1. 100 виртуальных машин на базе Linux и Windows, общие задачи, нет особых требований. Преимущественно Windows based инфраструктура, требуется реализация программных балансировщиков нагрузки, репликации данных и автоматизированного механизма создания резервных копий.
2. Требуется наиболее производительное бесплатное open source решение для виртуализации небольшой (20-30 серверов) инфраструктуры на базе Linux и Windows виртуальных машин.
3. Необходимо бесплатное, максимально совместимое и производительное решение для виртуализации Windows инфраструктуры.
4. Необходимо рабочее окружение для тестирования программного продукта на нескольких дистрибутивах Linux.  

**Answer** 

      1. 100 виртуальных машин на базе Linux и Windows, общие задачи, нет особых требований. Преимущественно Windows based инфраструктура, требуется реализация программных балансировщиков нагрузки, репликации данных и автоматизированного механизма создания резервных копий.

    Microsoft предлагает комплексное решение Hyper-V для виртуализации, а также ряд компонентов для бэкапа (SC DPM) и управления виртуальными машинами (SC VMM). Если бюджет не является критичным параметром, то также можно рассмотреть VMware ESXi/VMware Vsphere.

      2. Требуется наиболее производительное бесплатное open source решение для виртуализации небольшой (20-30 серверов) инфраструктуры на базе Linux и Windows виртуальных машин.

    Xen Server, как наиболее быстрый гипервизор с достаточным функционалом.

      3. Необходимо бесплатное, максимально совместимое и производительное решение для виртуализации Windows инфраструктуры.

    Hyper-V, как решение, предлагаемое и поддерживаемое вендором

      4. Необходимо рабочее окружение для тестирования программного продукта на нескольких дистрибутивах Linux.

    KVM - нативное решение для Linux, включенное во многие дистрибутивы. Если для тестирования достаточно доступа в user space, то можно рассмотреть контейнеризацию.

## Задача 4

Опишите возможные проблемы и недостатки гетерогенной среды виртуализации (использования нескольких систем управления виртуализацией одновременно) и что необходимо сделать для минимизации этих рисков и проблем. Если бы у вас был выбор, то создавали бы вы гетерогенную среду или нет? Мотивируйте ваш ответ примерами.

**Answer**

    Недостатки:
    - необходимость поддерживать несколько технологических стеков виртуализации;
    - необходимость поддержки нескольких решений бэкапа, мониторинга и управления для разных систем;
    - несовместимость систем виртуализации приводит к сложности миграции виртуальных машин между ними.

    В целом следует минимизировать количество поддерживаемых систем, однако если использование гетерогенных сред дает преимущества, то этим следует пользоваться. К примеру, многие ERP-системы работают исключительно на Windows, что предполагает использование аппаратной виртуализации на Microsoft Hyper-V или VMware ESXi, в то время как для работы веб-сервисов по многим параметрам предпочтительнее использовать контейнеризацию, как наиболее быстрый и современный способ виртуализации приложений.